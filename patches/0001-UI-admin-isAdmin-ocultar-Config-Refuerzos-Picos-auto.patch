From 355d636068396ffd91ad9c0f46cbea2f97c13ca7 Mon Sep 17 00:00:00 2001
From: =?UTF-8?q?Andr=C3=A9s=20Fern=C3=A1ndez?= <andres@careucom.com>
Date: Sun, 19 Oct 2025 18:45:18 +0000
Subject: [PATCH] UI(admin): isAdmin + ocultar Config/Refuerzos/Picos
 (autopatch)

---
 src/App.jsx | 7 +++++--
 1 file changed, 5 insertions(+), 2 deletions(-)

diff --git a/src/App.jsx b/src/App.jsx
index e455ebb..73b3f1f 100644
--- a/src/App.jsx
+++ b/src/App.jsx
@@ -467,6 +467,9 @@ export default function App(){
   }
   function doLogout(){ setAuth({ token:"", user:null }); }
 
+  // --- permisos UI ---
+  const isAdmin = auth.user?.role === 'admin';
+
   // ---------- Estado principal ----------
   const defaultStart = startOfWeekMonday(new Date());
   const [state,setState]=usePersistentState({
@@ -706,8 +709,8 @@ export default function App(){
 
           <TimeOffPanel state={state} setState={setState} controls={controls} />
           <SwapsPanel state={state} setState={setState} assignments={ASS} />
-          <RefuerzosPanel state={state} up={up} />
-          <GeneradorPicos state={state} up={up} />
+          {isAdmin && <RefuerzosPanel state={state} up={up} />}
+          {isAdmin && <GeneradorPicos state={state} up={up} />}
           <PropuestaCierre
             state={state}
             startDate={startDate}
-- 
2.45.2

